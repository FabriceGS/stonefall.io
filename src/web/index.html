<html>
    <head>
        <title>WebSocketServer</title>
        <script type="text/javascript">
            function WebSocketTest()
            {
              if ("WebSocket" in window)
              {
                var ws = new WebSocket("ws://localhost:4567/ws");
                ws.onopen = function()
                  {
                    ws.send("{\"id\" : \"1234\", \"payload\" : {\"name\" : \"John\"}}")
                    // ws.send("{{\"payload\" : { \"property\" : \"value\" }},  {\"id\" : 1234}}");
                  };
                ws.onmessage = function(evt)
                  {
                    var msg = evt.data;
                    alert("Message received: " + msg);
                    // ws.close();
                  };
                ws.onclose = function()
                  {
                    alert("WebSocket closed.");
                  };
              }
              else
              {
                 alert("This browser does not support WebSockets.");
              }
            }
        </script>
    </head>
    <body>
      <h1>WebSocket Server</h1>
      <p><a href="javascript:WebSocketTest()">Run WebSocket Script</a></p>
    </body>
</html>